{
  "hash": "f0a396d127e4f6ca163ddeb340f4fb94",
  "result": {
    "engine": "knitr",
    "markdown": "---\nsubtitle: Komplexe Rasterdaten\n---\n\n\n# Übung 4 {#sec-uebung-4}\n\n- Satelliten und Drohnen nehmen meist verschiedene Spektren von Elektromagnetischen Wellen auf\n- diese Spektren werden in unterschiedlichen Datensätzen abgespeichert\n- diese Datensätze müssen wieder zusammengefügt werden um ein Gesamtbild zu erhalten\n- Beispiel: Rot, Grün und Blau werte fügen sich zu einem Farbluftbild zusammen\n\n\n\n\n![](images/RGBSTack_1.jpg)\n\n\n\n\n\n\n## Übung 4.1 <!-- 3-->\n\n\n- Ladet euch einen Ausschnitt aus dem Datensatz `swissimage 10` von Swisstopo herunter: {{< var datasets.swissimage10.url >}}\n  - Shortlink: {{< var datasets.swissimage10.shorturl >}}\n- Enzipped den Inhalt in euer RStudio Projekt und schaut den Inhalt an\n- Öffnet das File in QGIS und schaut euch die Metadaten an\n- Was ist das Koordinatenbezugssystem? Wie hoch ist die räumliche Auflösung?\n\n\n::::{.content-visible when-profile=\"musterloesung\"}\n:::{.callout-note}\n## Musterlösung\n\n1. Koordinatenbezugssystem: EPSG 2056\n2. räumliche Auflösung: 10cm oder 2m verfügbar\n\n\n:::\n::::\n\n\n## Übung 4.2 <!-- 3-->\n\n\n\n- Erstelle ein neues R Script mit dem Namen `Uebung_4.R` \n- Lade die libraries `sf`, `tmap` und `terra`. \n- Importiere den Swissimage Datensatz \n- Weise dem importierten Datensatz das Korrekte Koordinatenbezugssystem zu\n- Schau dir den Datensatz in der Konsole sowie mit `plot()` an\n\n::::{.content-visible when-profile=\"musterloesung\"}\n:::{.callout-note}\n## Musterlösung\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(\"sf\")\nlibrary(\"tmap\")\nlibrary(\"terra\")\n\nswissimage <- rast(\"data-original/swissimage25/SWISSIMAGE25m/SI25-2012-2013-2014.tif\")\n\ncrs(swissimage) <- \"epsg: 2056\"\n```\n:::\n\n\n:::\n::::\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(swissimage)\n```\n\n::: {.cell-output-display}\n![](uebung_4_files/figure-html/uebung-4-3-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nswissimage\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nclass       : SpatRaster \ndimensions  : 9480, 14000, 3  (nrow, ncol, nlyr)\nresolution  : 25, 25  (x, y)\nextent      : 2484375, 2834375, 1062000, 1299000  (xmin, xmax, ymin, ymax)\ncoord. ref. : CH1903+ / LV95 (EPSG:2056) \nsource      : SI25-2012-2013-2014.tif \ncolors RGB  : 1, 2, 3 \nnames       : SI25-2012-2013-2014_1, SI25-2012-2013-2014_2, SI25-2012-2013-2014_3 \n```\n\n\n:::\n:::\n\n\n\n\n## Input: RGB Plots mit `tmap`\n\n- Um ein `rgb` Datensatz mit `tmap` zu plotten, verwenden wir nicht mehr `tm_raster()` sondern `tm_rgb`\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntmap_mode(\"plot\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\ntmap mode set to plotting\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nswissimage_10 <- aggregate(swissimage, fact = 10)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntm_shape(swissimage_10) + \n  tm_rgb()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nstars object downsampled to 1215 by 823 cells. See tm_shape manual (argument raster.downsample)\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](uebung_4_files/figure-html/uebung-4-7-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n\n\n\n## Input\n\n- Heute haben wir das Höhenmodell `dhm200` importiert\n- Höhenmodell mit 200m Auflösung (→ grob! )\n- swisstopo stellt zusätzlich das mit 25m Auflösung zur Verfügung ({{< var datasets.dhm25.url >}})\n  - Shortlink: {{< var datasets.dhm25.url >}}\n- durch die höhere Auflösung dauert das transformieren in ein neues Koordinatensystem etwas länger\n\n\n\n\n## Übung 4.4 (Optional)\n\n- Ladet euch das `dhm25` mit 25m Auflösung herunter ({{< var datasets.dhm25.url >}})\n- importiert es in R\n- setzt das korrekte CRS\n- transformiert es in EPSG 2056 und verwendet dabei folgende Optionen: \n  - mit `filename =` den Output direkt in ein File speichern\n  - mit `progress = TRUE` den Fortschritt anzeigen lassen\n- visualisiert es mit `tmap`\n\n::::{.content-visible when-profile=\"musterloesung\"}\n:::{.callout-note}\n## Musterlösung\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndhm25 <- rast(\"data-original/DHM25_MM_ASCII_GRID/ASCII_GRID_1part/dhm25_grid_raster.asc\")\ncrs(dhm25) <- \"epsg: 21781\"\n\ndhm25\n\nterra::project(dhm25, \"epsg: 2056\", filename = \"data-processed/dhm25_2056.tif\", progress = TRUE)\n```\n:::\n\n\n\n\n\n:::\n::::\n\n## Übung 4.5 (Optional und Open End)\n\nSuche dir auf den gängigen Portalen (s.u.) einen spannenden Datensatz und visualisiere diesen\n\n  - [opendata.swiss](https://opendata.swiss/)\n  - [map.geo.admin.ch](https://map.geo.admin.ch)\n  - [swisstopo.admin.ch](https://www.swisstopo.admin.ch)\n  \n\n\n",
    "supporting": [
      "uebung_4_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}